var mcstatus=function(e,n,r){function s(e,n,r){function s(e,n){for(var r=[],s=[],o=0;o<n.length;o++)r[n[o]]=!0;for(o=0;o<e.length;o++)r[e[o]]||s.push(e[o]);return s}for("leave"==r&&(changelistarray=s(e,n)),"join"==r&&(changelistarray=s(n,e)),changeliststring="",i=0;i<changelistarray.length;i++)changeliststring+=1==changelistarray.length?changelistarray[0]:2==changelistarray.length?i+1===changelistarray.length?" and "+changelistarray[1]:changelistarray[0]:i+1===changelistarray.length?"and "+changelistarray[i]:changelistarray[i]+", ";return changeliststring}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}if(void 0===a)var a={};var t=[],l="",p=new XMLHttpRequest;p.onreadystatechange=function(){if(4==p.readyState&&200==p.status)if(response=JSON.parse(p.responseText),null===response.sample&&response.online>0||0===response.max)try{if(null===response.sample&&response.online>0)throw"Unfortunately, "+n+" is hiping their playerlist.";if(0===response.max)throw'Could not find the ip for "'+n+'" or the server is not running.'}catch(h){void 0===a||void 0!==a&&void 0===a[e+"error"]&&null!==a[e+"error"]?(r(h),void 0===a&&(a={}),a[e+"error"]=h):(a[e+"error"]!==h&&r(h),a[e+"error"]=h)}else{if(void 0!==a&&void 0!==a[e+"error"]&&a[e+"error"]!==!1&&(a[e+"error"]=!1),null!==response.sample&&response.online<13){for(i=0;i<response.sample.length;i++)t.push(response.sample[i].name);for(i=0;i<t.length;i++)l+=1==t.length?t[0]:2==t.length?i+1===t.length?" and "+t[1]:t[0]:i+1===t.length?"and "+t[i]:t[i]+", "}else if(response.online>12)return void r("The server has too many players online to get an accurate list of players.");void 0===a||void 0!==a&&void 0===a[e]&&null!==a[e]?(r(0===t.length?"Currently no players are playing on "+n+".":1===response.online?"Currently "+l+" is playing on "+n+".":"Currently "+l+" are playing on "+n+"."),a[e]=t):(response.online-a[e].length>0&&r(1==response.online?o(s(a[e],t,"join"))+" joined "+n+". Now there are 1/"+response.max+".":o(s(a[e],t,"join"))+" joined "+n+". Now there are "+response.online+"/"+response.max+" players on the server, including "+l+"."),response.online-a[e].length<0&&(null===t&&(t=[]),r(0===response.online?o(s(a[e],t,"leave"))+" left "+n+". Now there are 0/"+response.max+" players on the server, so there are no players on the server.":1==response.online?o(s(a[e],t,"leave"))+" left "+n+". Now there is 1/"+response.max+" players on the server, and only "+l+" online.":o(s(a[e],t,"leave"))+" left "+n+". Now there are "+response.online+"/"+response.max+" players on the server, including "+l+".")),a[e]=t)}};var h="http://mcping.net/api/"+e+"/online,max,sample,strippedmotd";p.open("GET",h,"true"),p.send()};
